<!doctype HTML>
<html>

<head>
  <title>instant Art</title>
  <link href="https://fonts.googleapis.com/css?family=Shrikhand" rel="stylesheet">

  <style>
    #title {
      font-family: Shrikhand, cursive;
      font-size: 50px;
      color: white;
      letter-spacing: 3px;
      margin-top: 1000px;
      background-color: black;
    }

    a:hover{
      cursor: pointer;
    }

    center{
      margin-top: 50px;
    }

    canvas{
      visibility: hidden;
      margin-top: 60px;
      box-shadow: 5px 5px 16px 0px rgba(171,171,171,0.82);
    }


    #pic{
      position: fixed;
    }

  </style>
</head>

<body>
  <center><a id="title" onClick="colorPixels()">instant ART</a>

  <div id="container"><canvas id="canvas" height="600px" width="600px"></canvas></div>

  <canvas id="pic" height="600px" width="600px"></canvas>

</center>



  <script>

  document.addEventListener('mousedown', function (event) {
    if (event.detail > 1) {
      event.preventDefault();
      }
    }, false);

  var c=document.getElementById("canvas");
  var ctx=c.getContext("2d");
  ctx.clearRect(0, 0, c.width, c.height);

  function colorTriangle(){
    ctx.strokeStyle = '#000000';
    var x = 0;
    var y = 0;

    switch(Math.floor(Math.random()*2)){
        case 0:
          x = 0;
          break;
        case 1:
          x = c.width;
          break;
    }
    y = Math.floor(Math.random() * c.height);

    var originX = x;
    var originY = y;

    ctx.clearRect(0, 0, c.width, c.height);
    ctx.fillStyle = '#'+ Math.random().toString(16).slice(-6);
    ctx.fillRect(0, 0, c.width, c.height);

    ctx.fillStyle = '#'+ Math.random().toString(16).slice(-6);
    ctx.beginPath();
    ctx.moveTo(x,y);

    for(var i = 0; i < 2; i++){
      switch(originX){
        case 0:
          x = c.width;
          break;
        case c.width:
          x = 0;
          break;
      }
      y = Math.floor(Math.random() * c.height);

      ctx.lineTo(x,y);

    }

    if(Math.floor(Math.random()*2)){ //in order to be even more random
      ctx.lineTo(originY, originX);
    }
    else{
      ctx.lineTo(originX, originY);
    }
    ctx.fill();
  }

  function colorRectangle(){
    ctx.strokeStyle = '#000000';
    var x = 0;
    var y = 0;

    switch(Math.floor(Math.random()*2)){
        case 0:
          x = 0;
          break;
        case 1:
          x = c.width;
          break;
    }
    y = Math.floor(Math.random() * c.height);

    var originX = x;
    var originY = y;

    ctx.clearRect(0, 0, c.width, c.height);
    ctx.fillStyle = '#'+ Math.random().toString(16).slice(-6);
    ctx.fillRect(0, 0, c.width, c.height);

    ctx.fillStyle = '#'+ Math.random().toString(16).slice(-6);
    ctx.beginPath();
    ctx.moveTo(x,y);

    //second on one side
    y = Math.floor(Math.random() * c.height);
    ctx.lineTo(x,y);

    //other two

    for(var i = 0; i < 2; i++){
      switch(originX){
        case 0:
          x = c.width;
          break;
        case c.width:
          x = 0;
          break;
      }
      y = Math.floor(Math.random() * c.height);

      ctx.lineTo(x,y);
    }

    if(Math.floor(Math.random*2) == 0){ //in order to be even more random
      ctx.lineTo(originY, originX);
    }
    else{
      ctx.lineTo(originX, originY);
    }
    ctx.fill();
  }

  function colorPixels(){
    switch(Math.floor(Math.random()*2)){
      case 0:
        colorRectangle();
        break;
      case 1:
        colorTriangle();
        break;
    }
    var temp = document.getElementById("pic");
    var tempContext = temp.getContext("2d");

    //drawing the pattern block in anther canvas
    switch(Math.floor(Math.random()*4)){
      case 0:
        //normal, no flip
        tempContext.drawImage(c,0,0,c.width/2,c.width/2);
        tempContext.drawImage(c,c.width/2,0,c.width/2,c.width/2);
        tempContext.drawImage(c,0,c.width/2,c.width/2,c.width/2);
        tempContext.drawImage(c,c.width/2,c.width/2,c.width/2,c.width/2);
        break;
      case 1:
        //simple horizontal flip
        tempContext.save(); 
        tempContext.drawImage(c, 0,0,c.width/2,c.width/2);
        tempContext.scale(-1, 1); 
        tempContext.drawImage(c, -c.width,0,c.width/2,c.width/2); 

        tempContext.drawImage(c, -c.width,c.width/2,c.width/2,c.width/2);
        tempContext.scale(-1, 1); 
        tempContext.drawImage(c, 0,c.width/2,c.width/2,c.width/2); 
        tempContext.restore(); 
        break;
      case 2:
        //simple horizontal flip & slide
        tempContext.save();
        tempContext.drawImage(c, 0,0,c.width/2,c.width/2);
        tempContext.scale(-1, 1); 
        tempContext.drawImage(c, -c.width,0,c.width/2,c.width/2); 

        tempContext.drawImage(c, -c.width/2,c.width/2,c.width/2,c.width/2);
        tempContext.scale(-1, 1); 
        tempContext.drawImage(c, c.width/2,c.width/2,c.width/2,c.width/2);
        tempContext.restore(); 
        break;
      case 3:
        //horizontal & vertical flip
        tempContext.save();
        tempContext.drawImage(c, 0,0,c.width/2,c.width/2);
        tempContext.scale(-1, 1); 
        tempContext.drawImage(c, -c.width,0,c.width/2,c.width/2); 

        tempContext.scale(-1,-1);
        tempContext.drawImage(c, 0,-c.width,c.width/2,c.width/2);

        tempContext.scale(-1,1);
        tempContext.drawImage(c, -c.width,-c.width,c.width/2,c.width/2);
        tempContext.restore(); 
    }

    ctx.clearRect(0,0,c.height,c.width);
    for(var k = 0; k < 3; k++){
      for(var i = 0; i < 3;i++){
        ctx.drawImage(temp,200*i,k*200,200,200);
      }
    }
    setBackground();
  }

  function setBackground(){
    var img = c.toDataURL();
    document.body.style.background = "url(" +img+ ")";
  }    

  </script>
</body>

</html>
